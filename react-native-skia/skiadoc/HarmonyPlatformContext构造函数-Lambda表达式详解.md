# HarmonyPlatformContext æ„é€ å‡½æ•° Lambda è¡¨è¾¾å¼è¯¦è§£

## ğŸ“‹ ä»£ç ç‰‡æ®µ

```cpp
HarmonyPlatformContext::HarmonyPlatformContext(jsi::Runtime *runtime, 
                                               std::shared_ptr<react::CallInvoker> callInvoker,
                                               float pixelDensity)
    : RNSkPlatformContext(runtime, callInvoker, pixelDensity), 
      drawLoopActive(false),
      playLink(std::make_unique<PlayLink>([this](double deltaTime) {
        runOnMainThread([this](){
            notifyDrawLoop(false);
        });
      })) {
    mainThread = std::thread(&HarmonyPlatformContext::runTaskOnMainThread, this);
    _runtime = runtime;
}
```

---

## ğŸ¯ æ ¸å¿ƒé—®é¢˜ï¼šä¸ºä»€ä¹ˆè¦ç”¨åµŒå¥—çš„ Lambdaï¼Ÿ

è¿™ä¸ªæ„é€ å‡½æ•°ä½¿ç”¨äº†**åµŒå¥—çš„ Lambda è¡¨è¾¾å¼**æ¥å®ç°ä¸€ä¸ª**å¼‚æ­¥å®šæ—¶æ¸²æŸ“å¾ªç¯**ã€‚è®©æˆ‘é€æ­¥åˆ†è§£ï¼š

---

## 1. æ•´ä½“æ¶æ„ç†è§£

### 1.1 ä¸‰ä¸ªå…³é”®ç»„ä»¶

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  PlayLink (å®šæ—¶å™¨çº¿ç¨‹)                                   â”‚
â”‚  - æ¯ 16.667ms è§¦å‘ä¸€æ¬¡å›è°ƒ                              â”‚
â”‚  - åœ¨ç‹¬ç«‹çº¿ç¨‹ä¸­è¿è¡Œ                                      â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                   â”‚ è°ƒç”¨å›è°ƒ (deltaTime)
                   â†“
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  å¤–å±‚ Lambda: [this](double deltaTime)                  â”‚
â”‚  - æ•è· this æŒ‡é’ˆ                                        â”‚
â”‚  - æ¥æ”¶ deltaTime å‚æ•°                                   â”‚
â”‚  - è°ƒç”¨ runOnMainThread()                               â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                   â”‚ æäº¤ä»»åŠ¡åˆ°é˜Ÿåˆ—
                   â†“
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  runTaskOnMainThread (ä»»åŠ¡é˜Ÿåˆ—çº¿ç¨‹)                      â”‚
â”‚  - ä»é˜Ÿåˆ—ä¸­å–å‡ºä»»åŠ¡æ‰§è¡Œ                                   â”‚
â”‚  - ç¡®ä¿ä»»åŠ¡åœ¨"ä¸»çº¿ç¨‹"æ‰§è¡Œ                                 â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                   â”‚ æ‰§è¡Œä»»åŠ¡
                   â†“
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  å†…å±‚ Lambda: [this](){ notifyDrawLoop(false); }       â”‚
â”‚  - æ•è· this æŒ‡é’ˆ                                        â”‚
â”‚  - è°ƒç”¨ notifyDrawLoop() è§¦å‘æ¸²æŸ“                        â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

## 2. é€å±‚è§£æ

### 2.1 PlayLink æ„é€ å‡½æ•°

**PlayLink çš„å®šä¹‰ï¼š**
```cpp
// HarmonyPlayLink.h:20
class PlayLink {
public:
    PlayLink(std::function<void(double)> CallBack, double interval_ms = 16.667);
    // ...
private:
    std::function<void(double)> CallBack;  // å­˜å‚¨å›è°ƒå‡½æ•°
    // ...
};
```

**å…³é”®ç‚¹ï¼š**
- `PlayLink` æ¥å—ä¸€ä¸ª `std::function<void(double)>` ç±»å‹çš„å›è°ƒå‡½æ•°
- è¿™ä¸ªå›è°ƒå‡½æ•°ä¼šåœ¨å®šæ—¶å™¨çº¿ç¨‹ä¸­æ¯ 16.667msï¼ˆçº¦ 60fpsï¼‰è¢«è°ƒç”¨ä¸€æ¬¡
- å‚æ•° `double` æ˜¯æ—¶é—´å·®ï¼ˆdeltaTimeï¼‰ï¼Œè¡¨ç¤ºè·ç¦»ä¸Šæ¬¡è°ƒç”¨çš„æ—¶é—´é—´éš”

---

### 2.2 å¤–å±‚ Lambdaï¼š`[this](double deltaTime) { ... }`

**è¯­æ³•è§£æï¼š**
```cpp
[this](double deltaTime) {
    runOnMainThread([this](){
        notifyDrawLoop(false);
    });
}
```

**è¯­æ³•è¯´æ˜ï¼š**
- `[this]` - **æ•è·åˆ—è¡¨**ï¼šæ•è·å½“å‰å¯¹è±¡çš„ `this` æŒ‡é’ˆï¼Œè®© Lambda å¯ä»¥è®¿é—® `HarmonyPlatformContext` çš„æˆå‘˜
- `(double deltaTime)` - **å‚æ•°åˆ—è¡¨**ï¼šæ¥æ”¶ `PlayLink` ä¼ é€’çš„æ—¶é—´å·®
- `{ ... }` - **å‡½æ•°ä½“**ï¼šLambda çš„æ‰§è¡Œé€»è¾‘

**æ‰§è¡Œæ—¶æœºï¼š**
- åœ¨ `PlayLink` çš„å®šæ—¶å™¨çº¿ç¨‹ä¸­æ‰§è¡Œï¼ˆ`postFrameLoop()` ä¸­è°ƒç”¨ï¼‰
- æ¯ 16.667ms æ‰§è¡Œä¸€æ¬¡

**ä½œç”¨ï¼š**
- å°†æ¸²æŸ“ä»»åŠ¡ä»**å®šæ—¶å™¨çº¿ç¨‹**åˆ‡æ¢åˆ°**ä»»åŠ¡é˜Ÿåˆ—çº¿ç¨‹**
- é€šè¿‡ `runOnMainThread()` å®ç°çº¿ç¨‹åˆ‡æ¢

---

### 2.3 runOnMainThread() æ–¹æ³•

**å®ç°ä»£ç ï¼š**
```cpp
// HarmonyPlatformContext.cpp:103
void HarmonyPlatformContext::runOnMainThread(std::function<void()> task) {
    std::lock_guard<std::mutex> lock(taskMutex);
    taskQueue.push(std::move(task));      // å°†ä»»åŠ¡æ”¾å…¥é˜Ÿåˆ—
    taskCond.notify_one();                 // é€šçŸ¥ä»»åŠ¡çº¿ç¨‹æœ‰æ–°ä»»åŠ¡
}
```

**ä½œç”¨ï¼š**
- æ¥æ”¶ä¸€ä¸ª `std::function<void()>` ç±»å‹çš„ä»»åŠ¡
- å°†ä»»åŠ¡æ”¾å…¥ `taskQueue` é˜Ÿåˆ—
- é€šè¿‡æ¡ä»¶å˜é‡ `taskCond` é€šçŸ¥ `runTaskOnMainThread` çº¿ç¨‹æœ‰æ–°ä»»åŠ¡

**ä¸ºä»€ä¹ˆéœ€è¦è¿™ä¸ªï¼Ÿ**
- `PlayLink` åœ¨ç‹¬ç«‹çº¿ç¨‹ä¸­è¿è¡Œï¼Œä¸èƒ½ç›´æ¥è°ƒç”¨æ¸²æŸ“ç›¸å…³ä»£ç 
- éœ€è¦é€šè¿‡ä»»åŠ¡é˜Ÿåˆ—æœºåˆ¶ï¼Œå°†ä»»åŠ¡åˆ‡æ¢åˆ°"ä¸»çº¿ç¨‹"ï¼ˆå®é™…ä¸Šæ˜¯ä»»åŠ¡é˜Ÿåˆ—çº¿ç¨‹ï¼‰æ‰§è¡Œ

---

### 2.4 å†…å±‚ Lambdaï¼š`[this](){ notifyDrawLoop(false); }`

**è¯­æ³•è§£æï¼š**
```cpp
[this](){
    notifyDrawLoop(false);
}
```

**è¯­æ³•è¯´æ˜ï¼š**
- `[this]` - æ•è· `this` æŒ‡é’ˆ
- `()` - æ— å‚æ•°
- `{ notifyDrawLoop(false); }` - è°ƒç”¨ `notifyDrawLoop(false)`

**æ‰§è¡Œæ—¶æœºï¼š**
- åœ¨ `runTaskOnMainThread` çº¿ç¨‹ä¸­æ‰§è¡Œ
- ä»ä»»åŠ¡é˜Ÿåˆ—ä¸­å–å‡ºåæ‰§è¡Œ

**ä½œç”¨ï¼š**
- è°ƒç”¨ `notifyDrawLoop(false)` è§¦å‘å®é™…çš„æ¸²æŸ“å¾ªç¯
- `false` å‚æ•°è¡¨ç¤ºä¸æ˜¯ç«‹å³æ¸²æŸ“ï¼Œè€Œæ˜¯åŠ å…¥æ¸²æŸ“é˜Ÿåˆ—

---

## 3. å®Œæ•´æ‰§è¡Œæµç¨‹

### 3.1 åˆå§‹åŒ–é˜¶æ®µ

```
1. HarmonyPlatformContext æ„é€ å‡½æ•°è¢«è°ƒç”¨
   â†“
2. åˆ›å»º PlayLink å®ä¾‹ï¼Œä¼ å…¥å¤–å±‚ Lambda
   â†“
3. å¯åŠ¨ mainThread çº¿ç¨‹ï¼ˆrunTaskOnMainThreadï¼‰
   â†“
4. æ„é€ å‡½æ•°å®Œæˆ
```

### 3.2 è¿è¡Œæ—¶é˜¶æ®µï¼ˆå½“ startDrawLoop() è¢«è°ƒç”¨åï¼‰

```
æ—¶é—´è½´ï¼š

T0: PlayLink::startDrawLoop() è¢«è°ƒç”¨
    â†“
T1: PlayLink å¯åŠ¨ç‹¬ç«‹çº¿ç¨‹ï¼Œæ‰§è¡Œ postFrameLoop()
    â†“
T2: æ¯ 16.667msï¼ŒPlayLink çº¿ç¨‹è°ƒç”¨ CallBack(deltaTime)
    â†“
T3: å¤–å±‚ Lambda æ‰§è¡Œï¼š[this](double deltaTime) { ... }
    â†“
T4: è°ƒç”¨ runOnMainThread([this](){ ... })
    â†“
T5: ä»»åŠ¡è¢«æ”¾å…¥ taskQueueï¼ŒtaskCond.notify_one() è¢«è°ƒç”¨
    â†“
T6: runTaskOnMainThread çº¿ç¨‹è¢«å”¤é†’ï¼Œä»é˜Ÿåˆ—å–å‡ºä»»åŠ¡
    â†“
T7: å†…å±‚ Lambda æ‰§è¡Œï¼š[this](){ notifyDrawLoop(false); }
    â†“
T8: notifyDrawLoop(false) è¢«è°ƒç”¨ï¼Œè§¦å‘æ¸²æŸ“
    â†“
T9: å›åˆ° T2ï¼Œç­‰å¾…ä¸‹ä¸€æ¬¡å®šæ—¶è§¦å‘
```

---

## 4. ä¸ºä»€ä¹ˆéœ€è¦ä¸¤å±‚ Lambdaï¼Ÿ

### 4.1 çº¿ç¨‹åˆ‡æ¢çš„å¿…è¦æ€§

```
PlayLink çº¿ç¨‹ (å®šæ—¶å™¨çº¿ç¨‹)
    â†“ ä¸èƒ½ç›´æ¥è°ƒç”¨æ¸²æŸ“ä»£ç 
    â†“ éœ€è¦é€šè¿‡ä»»åŠ¡é˜Ÿåˆ—åˆ‡æ¢çº¿ç¨‹
ä»»åŠ¡é˜Ÿåˆ—çº¿ç¨‹ (runTaskOnMainThread)
    â†“ å¯ä»¥å®‰å…¨è°ƒç”¨æ¸²æŸ“ä»£ç 
    â†“ æ‰§è¡Œ notifyDrawLoop()
æ¸²æŸ“æ‰§è¡Œ
```

### 4.2 è®¾è®¡åŸå› 

1. **çº¿ç¨‹å®‰å…¨**ï¼š
   - `PlayLink` åœ¨ç‹¬ç«‹çº¿ç¨‹ä¸­è¿è¡Œ
   - æ¸²æŸ“ç›¸å…³ä»£ç éœ€è¦åœ¨ç‰¹å®šçº¿ç¨‹ä¸­æ‰§è¡Œ
   - é€šè¿‡ä»»åŠ¡é˜Ÿåˆ—å®ç°çº¿ç¨‹åˆ‡æ¢ï¼Œä¿è¯çº¿ç¨‹å®‰å…¨

2. **è§£è€¦**ï¼š
   - `PlayLink` åªè´Ÿè´£å®šæ—¶è§¦å‘
   - ä¸å…³å¿ƒå…·ä½“çš„æ¸²æŸ“é€»è¾‘
   - é€šè¿‡å›è°ƒå‡½æ•°å®ç°è§£è€¦

3. **çµæ´»æ€§**ï¼š
   - å¯ä»¥åœ¨ä»»åŠ¡é˜Ÿåˆ—ä¸­æ‰§è¡Œä»»ä½•ä»»åŠ¡
   - ä¸é™äºæ¸²æŸ“ï¼Œè¿˜å¯ä»¥æ‰§è¡Œå…¶ä»–å¼‚æ­¥æ“ä½œ

---

## 5. å…³é”®ä»£ç ä½ç½®

### 5.1 PlayLink å¦‚ä½•è°ƒç”¨å›è°ƒ

```cpp
// HarmonyPlayLink.cpp:33
void PlayLink::postFrameLoop() {
    auto lastTime = std::chrono::steady_clock::now();
    auto nextTime = lastTime + interval;
    while (running) {
        std::this_thread::sleep_until(nextTime);
        
        auto currentTime = std::chrono::steady_clock::now();
        double deltaTime = std::chrono::duration_cast<std::chrono::duration<double>>(
            currentTime - lastTime).count();
        lastTime = currentTime;
        
        CallBack(deltaTime);  // ğŸ‘ˆ è¿™é‡Œè°ƒç”¨å¤–å±‚ Lambda
        // CallBack å°±æ˜¯æ„é€ å‡½æ•°ä¸­ä¼ å…¥çš„ [this](double deltaTime) { ... }
        
        nextTime = lastTime + interval;
    }
}
```

### 5.2 ä»»åŠ¡é˜Ÿåˆ—å¦‚ä½•æ‰§è¡Œä»»åŠ¡

```cpp
// HarmonyPlatformContext.cpp:78
void HarmonyPlatformContext::runTaskOnMainThread() {
    while (!stopMainLoop) {
        std::unique_lock<std::mutex> lock(taskMutex);
        // ç­‰å¾…ä»»åŠ¡æˆ–åœæ­¢ä¿¡å·
        taskCond.wait(lock, [this] { return !taskQueue.empty() || stopMainLoop; });
        
        while (!taskQueue.empty()) {
            auto task = std::move(taskQueue.front());
            taskQueue.pop();
            lock.unlock();
            task();  // ğŸ‘ˆ è¿™é‡Œæ‰§è¡Œå†…å±‚ Lambda
            // task å°±æ˜¯ [this](){ notifyDrawLoop(false); }
            lock.lock();
        }
    }
}
```

---

## 6. Lambda æ•è·è¯´æ˜

### 6.1 `[this]` æ•è·

**ä½œç”¨ï¼š**
- è®© Lambda å¯ä»¥è®¿é—® `HarmonyPlatformContext` çš„æˆå‘˜å‡½æ•°å’Œå˜é‡
- ä¾‹å¦‚ï¼š`runOnMainThread()`ã€`notifyDrawLoop()` ç­‰

**ä¸ºä»€ä¹ˆç”¨ `[this]` è€Œä¸æ˜¯ `[=]` æˆ– `[&]`ï¼Ÿ**
- `[this]` åªæ•è· `this` æŒ‡é’ˆï¼Œä¸å¤åˆ¶æ•´ä¸ªå¯¹è±¡ï¼Œæ›´é«˜æ•ˆ
- `[=]` ä¼šå¤åˆ¶æ‰€æœ‰å˜é‡ï¼Œå¼€é”€å¤§
- `[&]` ä¼šå¼•ç”¨æ‰€æœ‰å˜é‡ï¼Œä½† Lambda å¯èƒ½åœ¨å¯¹è±¡é”€æ¯åæ‰§è¡Œï¼Œä¸å®‰å…¨

### 6.2 ç”Ÿå‘½å‘¨æœŸå®‰å…¨

**æ³¨æ„ï¼š**
- Lambda ä¸­æ•è·äº† `this` æŒ‡é’ˆ
- å¦‚æœ `HarmonyPlatformContext` å¯¹è±¡è¢«é”€æ¯ï¼Œä½† Lambda è¿˜åœ¨æ‰§è¡Œï¼Œä¼šå¯¼è‡´æ‚¬ç©ºæŒ‡é’ˆ
- å› æ­¤éœ€è¦åœ¨ææ„å‡½æ•°ä¸­æ­£ç¡®åœæ­¢çº¿ç¨‹å’Œä»»åŠ¡é˜Ÿåˆ—

```cpp
// HarmonyPlatformContext.cpp:52
HarmonyPlatformContext::~HarmonyPlatformContext() { 
    SetStopRunOnMainThread();  // åœæ­¢ä»»åŠ¡é˜Ÿåˆ—çº¿ç¨‹
    // PlayLink ä¼šåœ¨ stopDrawLoop() æ—¶åœæ­¢
}
```

---

## 7. ç®€åŒ–ç†è§£

### 7.1 å¦‚æœç”¨æ™®é€šå‡½æ•°ï¼ˆä¼ªä»£ç ï¼‰

```cpp
// å‡è®¾ä¸ç”¨ Lambdaï¼Œç”¨æ™®é€šå‡½æ•°
void HarmonyPlatformContext::onPlayLinkCallback(double deltaTime) {
    runOnMainThread([this](){
        notifyDrawLoop(false);
    });
}

// æ„é€ å‡½æ•°ä¸­
playLink(std::make_unique<PlayLink>(
    std::bind(&HarmonyPlatformContext::onPlayLinkCallback, this, std::placeholders::_1)
))
```

**å¯¹æ¯” Lambda ç‰ˆæœ¬ï¼š**
```cpp
playLink(std::make_unique<PlayLink>([this](double deltaTime) {
    runOnMainThread([this](){
        notifyDrawLoop(false);
    });
}))
```

**Lambda çš„ä¼˜åŠ¿ï¼š**
- ä»£ç æ›´ç®€æ´ï¼Œä¸éœ€è¦å•ç‹¬å®šä¹‰å‡½æ•°
- é€»è¾‘æ›´é›†ä¸­ï¼Œå›è°ƒé€»è¾‘å°±åœ¨æ„é€ å‡½æ•°æ—è¾¹
- ä¸éœ€è¦ `std::bind`ï¼Œè¯­æ³•æ›´æ¸…æ™°

---

## 8. æ€»ç»“

### 8.1 Lambda çš„ä½œç”¨

1. **å¤–å±‚ Lambda**ï¼š
   - ä½œä¸º `PlayLink` çš„å›è°ƒå‡½æ•°
   - åœ¨å®šæ—¶å™¨çº¿ç¨‹ä¸­æ‰§è¡Œ
   - è´Ÿè´£å°†ä»»åŠ¡åˆ‡æ¢åˆ°ä»»åŠ¡é˜Ÿåˆ—çº¿ç¨‹

2. **å†…å±‚ Lambda**ï¼š
   - ä½œä¸ºä»»åŠ¡é˜Ÿåˆ—ä¸­çš„ä»»åŠ¡
   - åœ¨ä»»åŠ¡é˜Ÿåˆ—çº¿ç¨‹ä¸­æ‰§è¡Œ
   - è´Ÿè´£è§¦å‘å®é™…çš„æ¸²æŸ“å¾ªç¯

### 8.2 è®¾è®¡æ¨¡å¼

è¿™æ˜¯ä¸€ä¸ªå…¸å‹çš„**è§‚å¯Ÿè€…æ¨¡å¼ + ä»»åŠ¡é˜Ÿåˆ—æ¨¡å¼**çš„ç»„åˆï¼š

- **è§‚å¯Ÿè€…æ¨¡å¼**ï¼š`PlayLink` å®šæ—¶è§¦å‘å›è°ƒ
- **ä»»åŠ¡é˜Ÿåˆ—æ¨¡å¼**ï¼šé€šè¿‡é˜Ÿåˆ—å®ç°çº¿ç¨‹åˆ‡æ¢å’Œä»»åŠ¡è°ƒåº¦

### 8.3 å…³é”®ç‚¹

- âœ… Lambda æ•è· `this` æŒ‡é’ˆï¼Œå¯ä»¥è®¿é—®å¯¹è±¡æˆå‘˜
- âœ… å¤–å±‚ Lambda å®ç°çº¿ç¨‹åˆ‡æ¢ï¼ˆå®šæ—¶å™¨çº¿ç¨‹ â†’ ä»»åŠ¡é˜Ÿåˆ—çº¿ç¨‹ï¼‰
- âœ… å†…å±‚ Lambda æ‰§è¡Œå®é™…æ¸²æŸ“é€»è¾‘
- âœ… é€šè¿‡ä»»åŠ¡é˜Ÿåˆ—ä¿è¯çº¿ç¨‹å®‰å…¨
- âœ… éœ€è¦æ­£ç¡®ç®¡ç†ç”Ÿå‘½å‘¨æœŸï¼Œé¿å…æ‚¬ç©ºæŒ‡é’ˆ

---

## 9. å¸¸è§é—®é¢˜

### Q1: ä¸ºä»€ä¹ˆä¸ç”¨ä¸€ä¸ª Lambdaï¼Ÿ

**A:** å› ä¸ºéœ€è¦ä¸¤æ¬¡çº¿ç¨‹åˆ‡æ¢ï¼š
- ç¬¬ä¸€æ¬¡ï¼šä»å®šæ—¶å™¨çº¿ç¨‹åˆ‡æ¢åˆ°ä»»åŠ¡é˜Ÿåˆ—çº¿ç¨‹ï¼ˆå¤–å±‚ Lambdaï¼‰
- ç¬¬äºŒæ¬¡ï¼šåœ¨ä»»åŠ¡é˜Ÿåˆ—çº¿ç¨‹ä¸­æ‰§è¡Œæ¸²æŸ“é€»è¾‘ï¼ˆå†…å±‚ Lambdaï¼‰

### Q2: `deltaTime` å‚æ•°æœ‰ä»€ä¹ˆç”¨ï¼Ÿ

**A:** `deltaTime` è¡¨ç¤ºè·ç¦»ä¸Šæ¬¡è°ƒç”¨çš„æ—¶é—´é—´éš”ï¼ˆç§’ï¼‰ï¼Œå¯ä»¥ç”¨äºï¼š
- è®¡ç®—åŠ¨ç”»è¿›åº¦
- æ€§èƒ½ç›‘æ§
- å¸§ç‡ç»Ÿè®¡

åœ¨è¿™ä¸ªå®ç°ä¸­ï¼Œè™½ç„¶æ¥æ”¶äº† `deltaTime`ï¼Œä½†æ²¡æœ‰ä½¿ç”¨å®ƒï¼ˆä¼ ç»™ `notifyDrawLoop(false)` çš„å‚æ•°æ˜¯ `false`ï¼Œä¸æ˜¯ `deltaTime`ï¼‰ã€‚

### Q3: ä¸ºä»€ä¹ˆ `notifyDrawLoop(false)` è€Œä¸æ˜¯ `true`ï¼Ÿ

**A:** `false` è¡¨ç¤ºä¸æ˜¯ç«‹å³æ¸²æŸ“ï¼Œè€Œæ˜¯åŠ å…¥æ¸²æŸ“é˜Ÿåˆ—ï¼Œç­‰å¾…åˆé€‚çš„æ—¶æœºæ¸²æŸ“ã€‚è¿™æ ·å¯ä»¥ï¼š
- é¿å…é˜»å¡ä»»åŠ¡é˜Ÿåˆ—çº¿ç¨‹
- æ›´å¥½åœ°æ§åˆ¶æ¸²æŸ“æ—¶æœº
- æ”¯æŒæ‰¹é‡æ¸²æŸ“ä¼˜åŒ–

---

**æ–‡æ¡£ç‰ˆæœ¬**: 1.0  
**æœ€åæ›´æ–°**: 2025-01-XX  
**ç»´æŠ¤è€…**: AI Assistant
